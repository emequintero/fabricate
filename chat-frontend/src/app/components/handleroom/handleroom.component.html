<div class="display">
    <div tabindex="0" class="section-header pb-2">
        <div id="handleRoomControls">
            <button type="button" class="btn btn-icon border-0 rounded-sm" (click)="back()">
                <span class="fa fa-arrow-circle-left approve"></span>
            </button>
        </div>
        <h3 tabindex="0" class="font-weight-normal text-primary m-0">Add Participants</h3>
    </div>
    <div class="section-content pt-3" *ngIf="availableUsers?.length">
        <div *ngFor="let user of availableUsers"
            [ngClass]="{'selected':isUserSelected(user)}"
            class="d-flex align-items-center justify-content-between p-3 rounded-lg user"
            tabindex="0">
            <span class="profile-pic" style="background-image: url({{user.profilePic.src}});">
                <span class="fa fa-check"></span>
            </span>
            <span class="font-weight-normal label username">{{user.username}}</span>
            <span *ngIf="!isUserSelected(user)" (click)="handleUser(user, 'add')" class="btn btn-icon fa fa-plus-circle approve"></span>
            <span *ngIf="isUserSelected(user)" (click)="handleUser(user, 'remove')" class=" btn btn-icon fa fa-minus-circle deny"></span>
        </div>
        <div class="w-100 requestMatch px-2 d-flex flex-column justify-content-center" *ngIf="requestMatch">
            <h5 class="text-primary text-center font-weight-light">These users are in a pending request</h5>
            <a routerLink="/notifications" class="text-center">View Request(s)</a>
        </div>
    </div>
    <div class="section-content pt-3" *ngIf="!availableUsers?.length">
        <span tabindex="0" class="font-weight-light h3 no-results ml-2" *ngIf="mode==='create'">No users available to chat</span>
        <span tabindex="0" class="font-weight-light h3 no-results ml-2" *ngIf="mode==='add'">All available users added to room</span>
    </div>
    <div class="section-footer">
        <div class="footer-content form-group">
            <button class="btn btn-block btn-primary text-light rounded-0" (click)="submit()" 
            [disabled]="handleDisableSubmit()">DONE</button>
        </div>
    </div>
</div>